# Requirements Document

## Introduction

**Codename: trivago-clone-complete**

トリバゴ完全クローン：**https://www.trivago.jp/ja の完全再現**

**🎯 ゴール**

- **完全模倣**: トリバゴのデザイン、レイアウト、機能を100%再現
- **同等品質**: 同じレベルのUI/UX、パフォーマンス、SEO対応
- **サプリ特化**: ホテル→サプリメントに置き換えて実装
- **段階実装**: ホームページ → 検索結果 → 比較ページの順で完成度高く

**🚫 NG（はっきり禁止）**

- トリバゴと異なるデザイン要素の追加
- 独自のUI改善や機能追加
- レイアウトの変更や最適化
- 色やフォントの変更

### 技術スタック

- Next.js 14.2.5 (App Router)
- React 18.2.0
- TypeScript 5
- Tailwind CSS 4.1.12
- Sanity CMS 3.99.0 (商品データ)
- Vitest / Playwright / ESLint / Prettier

### デザイン要件（トリバゴ完全準拠）

**🎨 Visual Design**

- **色**: トリバゴと同じカラーパレット
- **フォント**: トリバゴと同じフォントファミリー
- **レイアウト**: 完全に同じ配置・余白・サイズ
- **画像**: 同じアスペクト比・配置
- **ボタン**: 同じスタイル・ホバー効果

**📱 Responsive**

- トリバゴと同じブレークポイント
- 同じモバイル対応
- 同じタブレット表示

## Requirements

### Requirement 1

**User Story:** サイト訪問者として、トリバゴと同じフルスクリーンヒーローで検索主導の体験を得たい

#### Acceptance Criteria

1. WHEN ユーザーがトップページにアクセス THEN トリバゴと同じフルスクリーンヒーロー（「次回のサプリ購入を最大50%お得に」）が表示される
2. WHEN ユーザーがヒーローを確認 THEN 「100を超えるサイトのサプリ価格をサプティアが比較します」のキャッチコピーが表示される
3. WHEN ユーザーが検索バーを確認 THEN トリバゴと同じデザイン・サイズ・配置の検索バーが中央に表示される
4. WHEN ユーザーがパートナーセクションを確認 THEN iHerb、Amazon、楽天などのロゴがトリバゴと同じレイアウトで表示される

### Requirement 2

**User Story:** 人気商品を確認するユーザーとして、トリバゴと同じカードレイアウトで商品情報を閲覧したい

#### Acceptance Criteria

1. WHEN ユーザーが人気検索セクションを確認 THEN トリバゴと同じ6列カードグリッドが表示される
2. WHEN ユーザーが各カードを確認 THEN 商品画像・商品数・平均価格がトリバゴのホテルカードと同じレイアウトで表示される
3. WHEN ユーザーがカードをホバー THEN トリバゴと同じホバー効果が適用される
4. WHEN ユーザーが価格情報を確認 THEN 「ビタミンD 1,234商品 平均価格 ¥2,980」形式で表示される

### Requirement 3

**User Story:** 最適な購入時期を知りたいユーザーとして、トリバゴと同じ価格グラフで情報を得たい

#### Acceptance Criteria

1. WHEN ユーザーが価格チャートセクションを確認 THEN 「サプリメントの購入に最適な時期をチェック」セクションが表示される
2. WHEN ユーザーがグラフを確認 THEN 月別の平均価格推移がトリバゴのホテル価格グラフと同じスタイルで表示される
3. WHEN ユーザーが都市タブを確認 THEN 「ビタミンD」「プロテイン」「マルチビタミン」等のカテゴリタブが表示される
4. WHEN ユーザーがタブを切り替え THEN 対応する価格グラフが動的に更新される

### Requirement 4

**User Story:** 検索結果を確認するユーザーとして、トリバゴと同じフィルター付き検索結果ページを利用したい

#### Acceptance Criteria

1. WHEN ユーザーが検索を実行 THEN トリバゴの検索結果ページと同じレイアウトの/searchページに遷移する
2. WHEN ユーザーが検索結果を確認 THEN 左サイドバーフィルター + 右メイン結果リストの構成が表示される
3. WHEN ユーザーがフィルターを確認 THEN 価格帯・ブランド・成分・評価等のフィルターがトリバゴと同じスタイルで表示される
4. WHEN ユーザーが商品リストを確認 THEN 商品カード（画像・名前・価格・評価）がトリバゴのホテルリストと同じレイアウトで表示される

### Requirement 5

**User Story:** 商品を比較するユーザーとして、トリバゴと同じ比較テーブルで詳細比較をしたい

#### Acceptance Criteria

1. WHEN ユーザーが比較ページにアクセス THEN トリバゴの比較ページと同じレイアウトが表示される
2. WHEN ユーザーが比較テーブルを確認 THEN 横スクロール可能な比較テーブルがトリバゴと同じスタイルで表示される
3. WHEN ユーザーがテーブル項目を確認 THEN 価格・成分・容量・評価等がトリバゴのホテル比較と同じ形式で表示される
4. WHEN ユーザーがCTAボタンを確認 THEN 「最安値で購入」ボタンがトリバゴの「予約」ボタンと同じスタイルで表示される

### Requirement 6

**User Story:** サイト全体を利用するユーザーとして、トリバゴと同じヘッダー・フッター・ナビゲーションを体験したい

#### Acceptance Criteria

1. WHEN ユーザーがヘッダーを確認 THEN トリバゴと同じシンプルなヘッダー（ロゴ + お気に入り）が表示される
2. WHEN ユーザーがフッターを確認 THEN トリバゴと同じ大量のSEOリンクが同じレイアウトで表示される
3. WHEN ユーザーがナビゲーションを確認 THEN トリバゴと同じパンくずナビ・ページネーションが表示される
4. WHEN ユーザーがモバイル表示を確認 THEN トリバゴと同じレスポンシブ対応が適用される

### Requirement 7

**User Story:** 開発者として、トリバゴと同等のパフォーマンス・SEO・アクセシビリティを実現したい

#### Acceptance Criteria

1. WHEN パフォーマンスを測定 THEN Lighthouse Performance 90+（トリバゴと同等）を達成する
2. WHEN SEOを確認 THEN トリバゴと同じメタタグ・構造化データ・サイトマップが実装される
3. WHEN アクセシビリティを確認 THEN トリバゴと同等のWCAG準拠レベルを達成する
4. WHEN 多言語対応を確認 THEN 日本語・英語切り替えがトリバゴと同じ方式で実装される

### Requirement 8

**User Story:** ユーザーとして、トリバゴと同じ検索・フィルタリング・ソート機能を利用したい

#### Acceptance Criteria

1. WHEN ユーザーが検索機能を利用 THEN トリバゴと同じオートコンプリート・サジェスト機能が動作する
2. WHEN ユーザーがフィルターを適用 THEN トリバゴと同じリアルタイム絞り込みが実行される
3. WHEN ユーザーがソート機能を利用 THEN 価格順・評価順・人気順等のソートがトリバゴと同じ方式で動作する
4. WHEN ユーザーがページネーションを利用 THEN トリバゴと同じページング機能が動作する

## 🚀 Build Phase 1 (Deliverables)

### Pages

- **/** : トリバゴホームページの完全再現（ヒーロー + パートナー + 人気検索 + 価格グラフ + フッター）
- **/search** : トリバゴ検索結果ページの完全再現（フィルター + 結果リスト）
- **/compare** : トリバゴ比較ページの完全再現（比較テーブル）

### Components

- **Header, Footer** : トリバゴと同じデザイン
- **HeroSection** : フルスクリーンヒーロー + 検索バー
- **PartnerLogos** : パートナーブランドロゴ一覧
- **PopularSearchCards** : 人気商品カードグリッド
- **PriceChart** : 価格推移グラフ
- **SearchFilters** : 左サイドバーフィルター
- **ProductList** : 商品結果リスト
- **ComparisonTable** : 商品比較テーブル

### Styles

- **トリバゴ完全準拠CSS** : 色・フォント・レイアウト・アニメーション

### Data

- **商品データ** : Sanityでサプリメント商品データ管理
- **価格データ** : 複数サイトの価格情報
- **ブランドデータ** : パートナーブランド情報

### Tests

- **vitest** : コンポーネント単体テスト
- **playwright** : E2Eテスト（検索→結果→比較フロー）

## ✅ Definition of Done

- トリバゴと見分けがつかないレベルの完全再現
- Lighthouse Performance/SEO/Accessibility 90+
- 全主要機能（検索・フィルター・比較）が動作
- レスポンシブ対応完了
- テストカバレッジ80%以上
- PR作成・Vercel Preview確認完了
